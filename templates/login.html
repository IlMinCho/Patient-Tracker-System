<!DOCTYPE html>
<html>
<head>
    <title>Home Page</title>
</head>
<body>
    <h2>Login</h2>
    <label for="email">Email:</label>
    <input type="text" id="email">
    <br><br>
    <label for="password">Password:</label>
    <input type="password" id="password">
    <br><br>
    <button onclick="loginAsPatient()">Login as Patient</button>
    <button onclick="loginAsDoctor()">Login as Doctor</button>

    <h2>Register</h2>
    <label for="name">Name:</label>
    <input type="text" id="name">
    <br><br>
    <label for="email">Email:</label>
    <input type="text" id="email">
    <br><br>
    <label for="password">Password:</label>
    <input type="password" id="password">
    <br><br>
    <label for="type">Register as:</label>
    <select id="type">
        <option value="patient">Patient</option>
        <option value="doctor">Doctor</option>
    </select>
    <br><br>
    <button onclick="registerUser()">Register</button>

    <script>
        function loginAsPatient() {
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;
            // Perform login as patient using fetch or other methods
            // Example fetch request:
            fetch('/login-patient', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ "email": email, "password": password })
            })
            .then(response => response.text())
            .then(data => {
                console.log(data); // Display the response or perform appropriate actions
                // If logged in successfully as a patient, proceed to other functions
                // Example: create-patient, get-doctor-list, add-doctor
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }

        function loginAsDoctor() {
            var email = document.getElementById('email').value;
            var password = document.getElementById('password').value;
            // Perform login as doctor using fetch or other methods
            // Example fetch request:
            fetch('/login-doctor', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ "email": email, "password": password })
            })
            .then(response => response.text())
            .then(data => {
                console.log(data); // Display the response or perform appropriate actions
                // If logged in successfully as a doctor, proceed to other functions
                // Example: create-doctor, get-patient-data, edit-patient-doc
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }

        function registerUser() {
        var name = document.getElementById('name').value;
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        var userType = document.getElementById('type').value;
        <p id="demo"></p>
        document.getElementById("demo").innerHTML = name;
        // Perform registration request based on the selected user type
        if (userType === 'patient') {
            // Perform patient registration using fetch or other methods
            fetch('/create-patient', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    "name": name,
                    "email": email,
                    "password": password,
                    "weight": weight, 
                    "height": height, 
                    "age": age, 
                    "gender": gender, 
                    "medical_history": medical_history
                })
            })
            .then(response => response.text())
            .then(data => {
                console.log(data); // Display the response or perform appropriate actions
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        } else if (userType === 'doctor') {
            // Perform doctor registration using fetch or other methods
            fetch('/create-doctor', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    "name": name,
                    "email": email,
                    "password": password,
                    "specialization": specialization,
                    "experience": experience  
                })
            })
            .then(response => response.text())
            .then(data => {
                console.log(data); // Display the response or perform appropriate actions
            })
            .catch((error) => {
                console.error('Error:', error);
            });
        }
    }
    </script>
</body>
</html>